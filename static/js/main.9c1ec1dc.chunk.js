(this["webpackJsonpweather-react"]=this["webpackJsonpweather-react"]||[]).push([[0],{10:function(e,t,a){e.exports=a(16)},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(9),r=a.n(o),c=(a(15),a(1)),s=a(2),m=a(4),u=a(3),p=a(6),l=a(5),d=(a(7),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={zipcode:""},a.inputChanged=a.inputChanged.bind(Object(p.a)(a)),a.submitZipCode=a.submitZipCode.bind(Object(p.a)(a)),a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"inputChanged",value:function(e){var t=e.target.value;this.setState({zipcode:t})}},{key:"submitZipCode",value:function(e){e.preventDefault();var t=this.state.zipcode;(0,this.props.onSubmit)(t),this.setState({zipcode:""})}},{key:"render",value:function(){return i.a.createElement("div",{className:"zip-form"},i.a.createElement("form",{onSubmit:this.submitZipCode,id:"zipForm"},i.a.createElement("div",{className:"flex-parent"},i.a.createElement("label",{htmlFor:"zipcode"},"Zip"),i.a.createElement("input",{onChange:this.inputChanged,className:"form-control",type:"input",id:"zipcode",name:"zipcode",value:this.state.zipcode,required:!0}),i.a.createElement("button",{type:"submit",className:"btn btn-success"}," Get the forcast!"))))}}]),t}(n.Component)),h=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.forecastDay,t=new Date(1e3*e.dt),a=e.weekday;return i.a.createElement("div",{class:"weather-list-item"},i.a.createElement("h2",null,t.getMonth()+1," / ",t.getDate()),i.a.createElement("h3",null,a),i.a.createElement("h3",null,e.minTemp.toFixed(1),"\xb0F | ",e.maxTemp.toFixed(1),"\xb0F"))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.forecastDays;return i.a.createElement("div",{className:"weather-list flex-parent"},e.map((function(e,t){return i.a.createElement(h,{key:e.dt,forecastDay:e,index:t})})))}}]),t}(n.Component),b=(n.Component,function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={zipcode:"",city:{},forecast:[],simpleForecast:[],selectedDate:null},a.url="http://api.openweathermap.org/data/2.5/forecast?zip=",a.apikey="&units=imperial&appid=790313f6498a01d239eb571b24ad99d7",a.googleApiKey="AIzaSyC1HTCZ6mUEKFuuLHPLdE1zM2_Q7j0vxhk",a.googleMapsUrl="https://maps.googleapis.com/maps/api/timezone/json?location=",a.onFormSubmit=a.onFormSubmit.bind(Object(p.a)(a)),a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"onFormSubmit",value:function(e){var t=this;fetch("".concat(this.url).concat(e).concat(this.apikey)).then((function(e){return e.json()})).then((function(a){var n=a.city,i=a.list;fetch("".concat(t.googleMapsUrl,"\n                  ").concat(n.coord.lat,",").concat(n.coord.lon,"\n                  &timestamp=").concat(i[0].dt,"\n                  &key=").concat(t.googleApiKey)).then((function(e){return e.json()})).then((function(a){console.log(a);var o=(a.rawOffset+a.dstOffset)/3600,r=t.parseForecast(i,o);e="",t.setState({zipcode:e,city:n,forecast:i,simpleForecast:r,timezoneOffset:o,selectedDate:null})})).catch((function(e){alert("There was a problem getting timezone info!")}))})).catch((function(e){alert("There was a problem getting info!")})),this.setState({zipcode:e})}},{key:"render",value:function(){var e=this.state,t=e.simpleForecast;e.city,e.selectedDate;return i.a.createElement("div",{id:"app-container"},i.a.createElement("div",{className:"app"},i.a.createElement(d,{onSubmit:this.onFormSubmit}),i.a.createElement(f,{forecastDays:t})))}},{key:"getIndexOfMidnight",value:function(e,t){var a=new Date(1e3*e).getUTCHours()+t;return a>2?Math.round((24-a)/3):Math.abs(Math.round(a/3))}},{key:"findMinTemp",value:function(e,t){for(var a=e[t].main.temp_min,n=t+1;n<t+8;n++)e[n].main.temp_min<a&&(a=e[n].main.temp_min);return a}},{key:"findMaxTemp",value:function(e,t){for(var a=e[t].main.temp_max,n=t+1;n<t+8;n++)e[n].main.temp_max>a&&(a=e[n].main.temp_max);return a}},{key:"parseForecast",value:function(e,t){for(var a=[],n=this.getIndexOfMidnight(e[0].dt,t);n<e.length-7;n+=8){var i={};i.dt=e[n+4].dt,i.weekday=this.getWeekday(new Date(1e3*i.dt)),i.temp=e[n+4].main.temp,i.minTemp=this.findMinTemp(e,n),i.maxTemp=this.findMaxTemp(e,n),i.morningTemp=e[n+2].main.temp,i.dayTemp=e[n+4].main.temp,i.eveningTemp=e[n+6].main.temp,i.nightTemp=e[n+7].main.temp,i.description=e[n+4].weather[0].description,i.icon=e[n+4].weather[0].icon,i.pressure=e[n+4].main.pressure,i.wind=e[n+4].wind.speed,i.humidity=e[n+4].main.humidity,a.push(i)}return a}},{key:"getWeekday",value:function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,a){}},[[10,1,2]]]);
//# sourceMappingURL=main.9c1ec1dc.chunk.js.map